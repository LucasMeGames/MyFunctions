/*
    Criado por Lucas Pinheiro.
    https://github.com/LucasMeGames
*/
$(() => {$(document).on("keydown", 'input[list]', function (event) {if (event.key === "Enter") {event.preventDefault();return false;}});$(document).on('blur', 'input[list]', function (event) {event.preventDefault();const list = $(this).attr('list');setTimeout(function () {$('div[list=' + list + ']').slideUp(100);}, 100);});$(document).on('click', 'input[list]', function (event) {event.preventDefault();const str = $(this).val();const list = $(this).attr('list');$('input.form-control+div[list=' + list + '] option').each((i, e) => {if ($(e).html().toLowerCase().indexOf(str.toLowerCase()) < 0) {$(e).hide();}});$('div[list=' + list + ']').slideToggle(200);$(this).focus();});$(document).on('click', 'div[list] option', function (event) {event.preventDefault();const list = $(this).parent().attr('list');const item = $(this).html();if ($(this).attr("value")) {$('input[list=' + list + ']').val($(this).attr("value"));} else {$('input[list=' + list + ']').val(item);}$('div[list=' + list + ']').slideUp(100);});$(document).on('keyup', 'input[list]', function (event) {let str;event.preventDefault();event.stopPropagation();const list = $(this).attr('list');const divList = $('div[list=' + list + ']');if (event.key === "Escape") {$(divList).slideUp(200);$(this).focus();} else if (event.key === "Enter") {if ($('input.form-control+div[list=' + list + '] option:visible').length === 1) {str = $('div[list=' + list + '] span:visible').html();$('input[list=' + list + ']').val(str);$('div[list=' + list + ']').slideUp(100);}return false;} else if (event.key === "Tab") {$('div[list]').slideUp();} else {$('div[list=' + list + ']').slideDown(100);str = $(this).val();let found = false;$('input.form-control+div[list=' + list + '] option').each(function () {if ($(this).html().toLowerCase().indexOf(str.toLowerCase()) < 0) {$(this).slideUp(200);} else {$(this).slideDown(200);found = true;}});if (found) {$('input.form-control+div[list=' + list + ']').slideDown();} else {$('input.form-control+div[list=' + list + ']').slideUp();}}})})